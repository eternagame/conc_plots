{% extends 'base.html' %}
{% block head %}
<script type="text/javascript">
    function validateSequence(textbox) {
        if(!textbox.value.match(/^[augcAUGC]*$/)){
            textbox.setCustomValidity('Sequence must be a series of the letters "A", "U", "G", and "C" (capital or lowercase)');
        }
        else {
            textbox.setCustomValidity('');
        }
        return true;
    }
</script>
{% endblock head %}

{% block content %}
<h1 class="display-4">Wuami Charts</h1>
<p class="lead">NUPACK-Based Concentration Plots</p>
<hr class="my-4">
<form method="get" action="run-job">
    <ul class="nav nav-pills mb-3" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="tab-sequence" data-toggle="tab" href="#tab-sequence" role="tab" aria-controls="squence" aria-selected="true">Run Sequences</a>
        </li>
        <li class="nav-item">
            <a class="nav-link disabled" id="tab-design" data-toggle="tab" href="#tab-design" role="tab" aria-controls="design">Run Eterna Designs (Coming Soon)</a>
        </li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane fade show active" id="tab-sequence" role="tabpanel" aria-labelledby="tab-sequence">
            <div class="form-group">
                <label for="sequences">Squences<span class="required">*</span></label>
                <textarea class="form-control" id="sequences" name="sequences" style="height: 110px" aria-describedby="seqHelp" placeholder="Sequence(s)" required></textarea>
                <small id="seqHelp" class="form-text text-muted">
                    <a href="http://eternawiki.org/wiki/index.php5/Sequence">Sequence</a> string(s).
                    For multiple sequences, place each sequence on a new line. Custom chart titles for each sequence coming soon.
                </small>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="lab">Lab<span class="required">*</span></label>
        <select class="form-control" id="lab" name="round" aria-describedby="labHelp" required>
          <option value="R104">OpenTB Round 1/3 (R104/R106)</option>
          <option value="R105" selected>OpenTB Round 2/4 (R105/R109)</option>
        </select>
    </div>
    <div class="form-group">
        <label for="email">Email (Optional)</label>
        <input type="email" class="form-control" id="email" name="email" aria-describedby="emailHelp" placeholder="Email (Coming Soon)" disabled>
        <small id="seqHelp" class="form-text text-muted">
            (Coming Soon) Submit your email to get a notification once the job is complete
        </small>
    </div>
    <button type="submit" class="btn btn-primary">
        Submit
    </button>
</form>
{% endblock %}